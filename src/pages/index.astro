---
// TYPES //
import type { HomeInfo } from "../types/home";

// CONSTANTS //
import { API_URL } from "../constants";

// OTHERS //
import Layout from "../layouts/Layout.astro";

// SECTIONS //
import Hero from "../sections/who-we-are/Hero.astro";
import Stats from "../sections/who-we-are/Stats.astro";
import ContactUs from "../sections/who-we-are/ContactUs.astro";
import WhoAreWe from "../sections/who-we-are/WhoAreWe.astro";
import OurStory from "../sections/who-we-are/OurStory.astro";
import Team from "../sections/who-we-are/Team.astro";
import Founder from "../sections/who-we-are/Founder.astro";

let homeInfo: HomeInfo = {
  stats: {
    numbers: [],
  },
};

try {
  const res = await fetch(API_URL);
  const json = await res.json();
  homeInfo = json?.data?.home_page ?? {
    stats: {
      numbers: [],
    },
  };
} catch (e) {
  console.error(e);
}
---

<Layout>
  <Hero />
  <OurStory />
  <WhoAreWe />
  {homeInfo.stats && <Stats stats={homeInfo.stats} />}
  <Founder />
  <Team />
  <ContactUs />
</Layout>
